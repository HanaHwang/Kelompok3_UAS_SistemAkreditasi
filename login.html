<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login - Sistem Akreditasi</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body { background-color:#f8f9fa; }
</style>
</head>
<body>

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow p-4" style="width:400px;">
        <h3 class="text-center mb-4 text-primary">Website Sistem Akreditasi</h3>
        <div id="errorMsg" class="text-danger mb-3"></div>

        <div class="mb-3">
            <label class="form-label">User ID</label>
            <input type="text" id="user_id" class="form-control">
        </div>

        <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password" id="password" class="form-control">
        </div>

        <button id="loginBtn" class="btn btn-primary w-100">Login</button>
    </div>
</div>

<script>
// ðŸ”¹ Seed users ONCE
if (!localStorage.getItem("users")) {
    localStorage.setItem("users", JSON.stringify([
        {user_id:"U001", name:"Bajanathan Gael", password:"123", email:"bajanathangael@itbss.ac.id", user_role:"Kepala LPMPP"},
        {user_id:"U002", name:"Theresa Natasha", password:"123", email:"theresanatasha@itbss.ac.id", user_role:"Administrator"},
        {user_id:"U003", name:"Lukas Jevon Jeffrey", password:"123", email:"lukasjevonjeffrey@itbss.ac.id", user_role:"Administrator"},
        {user_id:"U004", name:"Lim Hak Meng", password:"123", email:"limhakmeng@itbss.ac.id", user_role:"Administrator"}
    ]));
}

const users = JSON.parse(localStorage.getItem("users"));
const loginBtn = document.getElementById("loginBtn");
const errorMsg = document.getElementById("errorMsg");

loginBtn.addEventListener("click", login);

function login() {
    const user_id = document.getElementById("user_id").value.trim();
    const password = document.getElementById("password").value.trim();

    const user = users.find(u => u.user_id === user_id && u.password === password);
    if (user) {
        localStorage.setItem("currentUser", JSON.stringify(user));
        window.location.href = "dashboard.html";
    } else {
        errorMsg.textContent = "User ID atau password salah!";
    }
}
</script>

</body>
</html>
